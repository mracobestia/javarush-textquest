# javarush-textquest

Web приложение на примере текстового квеста
========================
Краткое описание
-------------------------
Данна программа представляет из себя небольшой линейный текстовый квест в виде вопросов и двух вариантов ответа к каждому из них.
В начале игры запускается стартовая страница с вводной частью истории и возможностью указать имя игрока. Без указания имени начать игру не получится.

Если в ходе игры был выбран ответ, который привел к поражению, то всегда можно начать игру заново по кнопке **Попробовать еще раз**.
В случае успешного прохождения игры пройти ее еще раз также возможно.

В любой момент прохождения можно открыть статистику по игроку с помощью гиперссылки <ins>Посмотреть статистику</ins>.

Запуск проекта
-------------------------
Возможны 3 варианта:
1. Скачать проект и собрать его, чтобы получить war-файл.
   1. Положить полученный war в папку для предварительно установленного tomcat, запустить
   2. С помощью Docker собрать образ и запустить его
2. Скачать Docker образ из docker hub командой:
```sh
docker pull mracobestia/javarush-textquest
``` 
Запустить полученный образ переопределив порт любым удобным образом. Зайти на страницу:
```sh
localhost:[переопределенный_порт]/javarush-textquest
``` 
3. Поиграть по адресу: https://javarush-textquest.onrender.com

Ограничения
-------------------------
Так как приложение не использует базы данных, хранение статистики по игрокам возможно пока работает сервер с приложением.
После остановки сервера все данные по игрокам будут потеряны.

Для корректного логирования необходимо перенастроить папку для сохранения логов в файле *resources/log4j2.xml*.

Краткое описание классов
-------------------------
В пакете `entity` содержатсятся классы сущности, необходимые для функционирования приложения: Answer, Question, QuestionInfo, User.

В пакете `repository` содержатся классы репозитории. С помощью них организовано хранение информации на сервере. Также здесь лежит класс - инициализатор квеста.

В пакете `service` содержатся классы сервисы. В них реализована вся бизнес логика приложения.

В пакете `servlets` содержатся классы сервлеты:
- `IndexServlet` для стартовой страницы
- `StartGameServlet` (путь "/startgame") для инициализации пользователя и перенаправления его на первый вопрос
- `QuestionServlet` (путь "/question") для отображения вопросов и ответов на них.